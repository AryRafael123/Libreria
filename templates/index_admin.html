<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Library Shopping</title>
    <link rel="stylesheet" href="../static/css/index_admin_style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

    <header>
        <div class="logo">
            <h1>Library Shopping - Admin</h1>
        </div>
        <nav>
            <ul>
                <li><a href="#dashboard">Dashboard</a></li>
                <li><a href="#catalog">Catalog</a></li>
                <li><a href="#add-book">Add New Book</a></li>

                <li><button type="button" class="btn btn-primary" id="liveToastBtn">Log out</button></li>

            </ul>
        </nav>


         <!-- ALERT-->
         <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
              <div class="toast-header">
                <img src="..." class="rounded me-2" alt="...">
                <strong class="me-auto">Are you sure?</strong>
                <small>Now</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
              </div>
              <div class="toast-body">
                <div class="mt-2 pt-2 border-top">

                    <form action="/log_out">
                    <button  type="submit" class="btn btn-primary btn-sm">Yes</button>
                    </form>
                    <!--<button type="button" class="btn btn-secondary btn-sm">No</button>-->
                  </div>
              </div>
            </div>
          </div>




    </header>

    <section id="dashboard" class="section">
        <h2>Admin Dashboard</h2>
        <p>Welcome, Admin! Manage the library's catalog, add new books, or update existing ones.</p>
    </section>



    <section id="catalog" class="section">
        <h2>Manage Catalog</h2>
        <div id="list-elements"></div>

    </section>



    <section id="section-books" class="section">
        <h2>Add New Book</h2>
        <form id="add-book" action="/add_book" method="POST">

            <label for="book-title">Book Title:</label>
            <input type="text" id="element-name" name="element-name" required>

            <label for="book-description">Author</label>
            <input type="text" id="element-author" name="element-author" required>

            <label for="book-description">Editorial</label>
            <input type="text" id="element-editorial" name="element-editorial" required>

            <label for="book-description">Stock</label>
            <input type="number" id="element-stock" name="element-stock" required>

            <label for="book-price">Price ($):</label>
            <input type="number" id="element-price" name="element-price" required>

            <button type="submit">Add Book</button>

        </form>
    </section>

    <footer>
        <p>&copy; 2025 Library Shopping Admin. All rights reserved.</p>
    </footer>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>></script>
    <script >
        const toastTrigger = document.getElementById('liveToastBtn')
        const toastLiveExample = document.getElementById('liveToast')

        if (toastTrigger) {
        const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample)
        toastTrigger.addEventListener('click', () => {
            toastBootstrap.show()
        })
        }
    </script>




    <script>
    document.getElementById("add-book").addEventListener("submit", function(event) {
    event.preventDefault();

    const elementName = document.getElementById("element-name").value;
    const elementAuthor = document.getElementById("element-author").value;
    const elementEditorial = document.getElementById("element-editorial").value;
    const elementStock = document.getElementById("element-stock").value;
    const elementPrice = document.getElementById("element-price").value;

    if (elementName && elementAuthor && elementEditorial && elementStock && elementPrice) {
        const itemDiv = document.createElement("div");
        itemDiv.classList.add("elemet");

        // Add item image (if provided)
        if (itemImage) {
        const img = document.createElement("img");
        img.src = URL.createObjectURL(itemImage);
        itemDiv.appendChild(img);
        }

        // Add item details
        const itemDetailsDiv = document.createElement("div");
        itemDetailsDiv.innerHTML = `
        <h3>${elementName}</h3>
        <p><strong>Author: </strong> ${elementAuthor}</p>
        <p><strong>Author: </strong> ${elementEditorial}</p>
        <p><strong>Author: </strong> ${elementStock}</p>
        <p><strong>Stock: </strong> $${elementPrice}</p>
        `;
        itemDiv.appendChild(itemDetailsDiv);

        // Append to item list
        document.getElementById("list-elements").appendChild(itemDiv);

        // Clear the form
        document.getElementById("add-book").reset();
    } else {
        alert("Please fill all the spaces");
    }
    });

    </script>


</body>
</html>
